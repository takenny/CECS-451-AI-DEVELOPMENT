window.addEventListener("DOMContentLoaded",(function(){function t(e){let i=document.getElementsByClassName(e);0!==i.length?Array.from(i).forEach((t=>{t.hidden=!0})):setTimeout((()=>t(e)),100)}let e=new class{constructor(){try{this.visitsForDay=JSON.parse(localStorage.getItem("rpvc"))}catch(t){this.visitsForDay={}}null===this.visitsForDay&&(this.visitsForDay={})}persist(){localStorage.setItem("rpvc",JSON.stringify(this.visitsForDay))}countToday(){let t=(new Date).toISOString().slice(0,10);Object.prototype.hasOwnProperty.call(this.visitsForDay,t)||(this.visitsForDay[t]=0),this.visitsForDay[t]=this.visitsForDay[t]+1}prune(t){var e=new Date;e.setDate(e.getDate()-t);var i={};for(var s in this.visitsForDay)new Date(s)>=e&&(i[s]=this.visitsForDay[s]);this.visitsForDay=i}visits(){var t=0;for(var e in this.visitsForDay)t+=this.visitsForDay[e];return t}markNotified(){let t=new Date;localStorage.setItem("rp-lastnotified",t.toISOString())}lastNotified(){return new Date(localStorage.getItem("rp-lastnotified"))}daysSinceLastNotified(){let t=new Date-this.lastNotified();return Math.floor(t/864e5)}};e.countToday(),e.prune(30),e.persist();let i=e.visits();i>=7&&(ga("send",{hitType:"event",eventCategory:"rpvc",eventAction:"wouldshow",eventValue:i}),e.daysSinceLastNotified()>=7&&(e.markNotified(),$("#rpvc").modal({backdrop:"static",keyboard:!1}),t("addthis-smartlayers"),t("drip-tab-container"),ga("send",{hitType:"event",eventCategory:"rpvc",eventAction:"didshow",eventValue:i})))}));